CREATE DATABASE UMCS;

USE UMCS;

CREATE TABLE ALUNOS (
	RGM INT PRIMARY KEY,
	NOMES VARCHAR(100),
	DATA_NASCIMENTO DATE
);

CREATE TABLE DISCIPLINA (
	CODIGO INT PRIMARY KEY,
	NOME VARCHAR(100),
	NUM_CREDITOS INT
);

CREATE TABLE CURSO (
	CÓDIGO INT PRIMARY KEY,
	RGMFK INT,
	CODIGOFK INT,
	FOREIGN KEY (RGMFK) REFERENCES ALUNOS(RGM),
	FOREIGN KEY (CODIGOFK) REFERENCES DISCIPLINA(CODIGO)
);

ALTER TABLE ALUNOS MODIFY NOMES VARCHAR(100) NOT NULL;
ALTER TABLE DISCIPLINA MODIFY NOME VARCHAR(100) NOT NULL;
ALTER TABLE ALUNOS ADD TELEFONE VARCHAR(15);
ALTER TABLE ALUNOS CHANGE DATA_NASCIMENTO NASCIMENTO DATE;
ALTER TABLE DISCIPLINA DROP COLUMN NUM_CREDITOS;

INSERT INTO ALUNOS (RGM, NOMES, NASCIMENTO, TELEFONE) VALUE
(1, 'JOÃO SILVA', '2000-01-15', '123456789'),
(2, 'MARIA OLIVEIRA', '1999-05-22', '987654321'),
(3, 'PEDRO SANTOS', '2001-09-30', '555555555');

INSERT INTO DISCIPLINA (CODIGO, NOME) VALUES
(101, 'MATEMÁTICA'),
(102, 'FÍSICA'),
(103, 'QUÍMICA');

INSERT INTO CURSO (CÓDIGO, RGMFK, CODIGOFK) VALUES
(1, 1, 101),
(2, 2, 102),
(3, 3, 103);

DROP TABLE CURSO,ALUNOS,DISCIPLINA;

SELECT * FROM UMCS.ALUNOS;
SELECT * FROM DISCIPLINA;
SELECT * FROM UMCS.CURSO;